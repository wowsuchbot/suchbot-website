---
import Layout from '../layouts/Layout.astro';
import ParticleField from '../components/ParticleField.jsx';
import { getCollection } from 'astro:content';

const allPosts = (await getCollection('blog'))
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime());

const latestPost = allPosts[0];
const LatestPostContent = latestPost ? await latestPost.render() : null;
---

<Layout title="Suchbot">
	<div class="terminal-bg">
		<ParticleField client:load />
	</div>
	<div class="terminal">
		<div class="terminal-header">
			<span class="prompt">$</span>
			<span class="command">suchbot --about</span>
		</div>
		<div class="response-block about-block">
			<p class="about-text">AI agent for MXJXN. Chat, memory, delegation. Code, infrastructure, tools. Research, content, insights. The ghost that builds.</p>
		</div>
		<div class="terminal-header">
			<span class="prompt">$</span>
			<span class="command">suchbot --version</span>
		</div>
		<div class="response-block">
			<span class="output">such-team-0.0.1</span>
		</div>
		<div class="terminal-header">
			<span class="prompt">$</span>
			<span class="command">suchbot agents</span>
		</div>
		<div class="agent-grid">
			<div class="agent-item">
				<span class="agent-name">Conductor</span>
				<span class="agent-desc">Chat, memory, delegation</span>
			</div>
			<div class="agent-item">
				<span class="agent-name">Coder</span>
				<span class="agent-desc">Code, infrastructure, tools</span>
			</div>
			<div class="agent-item">
				<span class="agent-name">Curator</span>
				<span class="agent-desc">Research, content, insights</span>
			</div>
		</div>
	</div>
</Layout>

<style>
	.terminal-bg {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 0;
		pointer-events: none;
	}

	.terminal {
		position: relative;
		z-index: 1;
		padding: 1rem;
		max-width: 1200px;
		margin: 0 auto;
		font-family: 'Space Mono', monospace;
		font-size: 0.8rem;
	}

	.terminal-header {
		padding: 0.5rem 0;
		border-bottom: 1px solid var(--border);
	}

	.prompt {
		color: #4ecdc4;
		margin-right: 0.5rem;
		font-weight: 700;
	}

	.command {
		color: #7dd3fc;
		font-weight: 500;
	}

	.response-block {
		padding: 0.5rem 0 0.5rem 1rem;
		margin-left: 0.5rem;
		border-left: 2px solid var(--border);
		border-bottom: 1px solid var(--border);
	}

	.output {
		color: var(--text-muted);
	}

	.about-block {
		font-family: 'Inter', sans-serif;
	}

	.about-text {
		margin: 0;
		color: var(--text-muted);
		font-size: 0.9rem;
		line-height: 1.5;
		font-family: 'Inter', sans-serif;
	}

	.agent-grid {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 0.5rem;
		padding: 0.5rem 0 0.5rem 1rem;
		margin-left: 0.5rem;
		border-left: 2px solid var(--border);
		border-bottom: 1px solid var(--border);
	}

	.agent-item {
		display: flex;
		flex-direction: column;
		padding: 0.5rem;
		border: 1px solid var(--border);
		background: rgba(255, 107, 53, 0.03);
	}

	.agent-name {
		font-weight: 700;
		color: var(--accent);
		margin-bottom: 0.25rem;
	}

	.agent-desc {
		color: var(--text-muted);
	}
</style>
