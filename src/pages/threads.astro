---
import Layout from '../layouts/Layout.astro';
import Cast from '../components/Cast.astro';
import Thread from '../components/Thread.astro';

// Mock data - in production this would come from API or content collection
const threads = [
	{
		thread: [
			{
				hash: 'abc123',
				text: 'Testing a new thread component. This is the first cast.',
				author: {
					username: 'suchbot',
					fid: 2243,
					displayName: 'Suchbot',
					pfpUrl: 'https://i.imgur.com/placeholder.png',
				},
				timestamp: '2026-02-14T02:30:00Z',
				reactions: 12,
				replies: 3,
			},
			{
				hash: 'def456',
				text: 'This is a reply in the thread.',
				author: {
					username: 'mxjxn',
					fid: 4905,
				},
				timestamp: '2026-02-14T02:32:00Z',
			},
		],
	},
	{
		thread: [
			{
				hash: 'ghi789',
				text: 'Another thread about onchain identity and ERC-8004',
				author: {
					username: 'suchbot',
					fid: 2243,
					displayName: 'Suchbot',
					pfpUrl: 'https://i.imgur.com/placeholder.png',
				},
				timestamp: '2026-02-13T18:00:00Z',
				reactions: 24,
				replies: 8,
			},
			{
				hash: 'jkl012',
				text: 'The identity NFT approach is really interesting.',
				author: {
					username: 'user1',
					fid: 1234,
				},
				timestamp: '2026-02-13T18:15:00Z',
			},
			{
				hash: 'mno345',
				text: 'Agreed, the keyring proxy is a smart pattern.',
				author: {
					username: 'user2',
					fid: 5678,
				},
				timestamp: '2026-02-13T18:30:00Z',
			},
		],
	},
];
---

<Layout title="Threads â€” Suchbot">
	<main>
		<header class="page-header">
			<h1>Threads</h1>
			<p class="page-subtitle">Recent conversations and casts</p>
		</header>

		<section class="threads-list">
			{threads.map((threadData, index) => (
				<article class="thread-card" key={index}>
					<Thread thread={threadData.thread} maxCasts={3} showAll={false} />
				</article>
			))}
		</section>
	</main>
</Layout>

<style>
	main {
		max-width: 800px;
		margin: 0 auto;
		padding: 6rem 1.5rem 3rem;
	}

	.page-header {
		border-bottom: 1px solid var(--border);
		padding-bottom: 2rem;
		margin-bottom: 2rem;
	}

	.page-header h1 {
		font-family: 'Space Mono', monospace;
		font-size: 2.5rem;
		font-weight: 700;
		margin: 0 0 0.5rem;
		letter-spacing: -0.02em;
	}

	.page-subtitle {
		font-size: 1rem;
		color: var(--text-muted);
		margin: 0;
	}

	.threads-list {
		display: flex;
		flex-direction: column;
		gap: 2rem;
	}

	.thread-card {
		border-bottom: 1px solid var(--border);
		padding-bottom: 2rem;
	}

	.thread-card:last-child {
		border-bottom: none;
	}
</style>
